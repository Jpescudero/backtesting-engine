# Instrumento y horizonte temporal
SYMBOL=SP500
START_YEAR=2018
END_YEAR=2022

# Rutas de datos (ajusta si es necesario a la estructura del repo)
DATA_PATH=data    # ruta base relativa donde están los datos 1m
DATA_FILE_PATTERN={symbol}_1m.parquet

# Parámetros de mean reversion
LOOKBACK_MINUTES=20
ZSCORE_ENTRY=1.5       # disparo de evento
ZSCORE_EXIT=0.0        # opcional, para salida por z-score
HOLD_TIME_BARS=5       # horizonte fijo en velas 1m
COOLDOWN_BARS=20       # barras de espera tras un evento
Z_RESET=0.5            # umbral para resetear la señal
Z_EPS=1e-12            # epsilon numérico en el cálculo del z-score

# Filtros
SESSION_START_TIME=15:35
SESSION_END_TIME=21:45
MIN_DAILY_VOL_PCT=0.0
MAX_DAILY_VOL_PCT=10.0

# Riesgo y modelado de SL/TP (para fases posteriores)
STOP_LOSS_ATR_MULT=1.0
TAKE_PROFIT_ATR_MULT=1.5

# Costes (Darwinex aproximado; ajustable)
SPREAD_POINTS=1.0
COMMISSION_PER_CONTRACT=2.5
SLIPPAGE_POINTS=0.3
CONTRACT_MULTIPLIER=1.0
COMMISSION_CASH_PER_CONTRACT=2.5
LOSS_TAIL_X=0.001

# Optimización
GRID_LOOKBACK_MINUTES=5,10,15,20,30,60
GRID_ZSCORE_ENTRY=0.5,1.0,1.5,2.0
GRID_HOLD_TIME_BARS=1,3,5,10,20

# Asymmetry handling
MODE=fade_up_only           # both | fade_up_only | fade_down_only
Z_MIN_SHORT=3.0             # hard minimum z-score for fading upside
Z_MIN_LONG=3.0              # hard minimum |z| for fading downside

# Threshold recommendation constraints
MIN_EVENTS_PER_BIN=50
MIN_CI_LOW=0.40
MIN_EXPECTANCY_NET=0.0
MAX_TAIL_LOSS=1.0
Z_BINNING_NBINS=20
Z_BIN_SIDE=both

# ML execution
RUN_ML=false
ML_LABEL=is_r_H_net_positive
ML_MODEL=logreg
ML_PROBA_THRESHOLD=0.55
ML_TRAIN_START_YEAR=2018
ML_TRAIN_END_YEAR=2020
ML_TEST_START_YEAR=2021
ML_TEST_END_YEAR=2022

# Walk-forward CV
ML_WALK_FORWARD=true
ML_FOLD_YEARS=1
ML_EMBARGO_DAYS=1
ML_MIN_TRAIN_DAYS=200

# Feature set toggles
FEAT_USE_Z=true
FEAT_USE_VOL=true
FEAT_USE_TIME=true
FEAT_USE_TREND=true
FEAT_USE_DISTANCE_TO_HOD=true
FEAT_USE_RECENT_MOM=true
